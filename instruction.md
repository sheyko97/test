# Инструкция по работе с Git.

## 1.  Проверка наличия установленного Git.

Все команды мыбудем выполнять через "Терминал". Для этого его нужно запустить в вашем VS Code через сочетане клавиш (для Windows) Ctrl + `

В терминале выпольнить команду `git version`.
Если Git установлен, появится сообщение с информацией о верси файла.
```
$ git version
git version 2.35.1.windows.2
```
 Иначе будет сообщение об ошибке.

## 2. Установка Git.
Загружаем последнюю версию Git с сайта https://git-scm.com/downloads.
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git
При первом использовании Git необходимо представиться. В частности, нам необходимо указать *имя* и *адрес электронной почты*, потому что Git встраивает эту информацию в каждую фиксацию, которую мы используем. Для этого нужно ввести в терминале две команды:
```
git config --global user.name "Your Name"
git config --global user.email "youremail@domain.com"
```

## 4. Инициализация репозитория

Получаете репозиторий Git можно одним из двух способов:

1. Вы можете взять локальный каталог, который в настоящее время не находится под версионным контролем, и превратить его в репозиторий Git, либо

2. Вы можете клонировать существующий репозиторий Git из любого места.
В обоих случаях вы получите готовый к работе Git репозиторий на вашем компьютере. для Windows:

1. В терминале преходим к папке, в которой хотим создать репозиторий.
```
$ cd C:/Users/user/name_file
```
а затем выполните команду:
```
$ git init
```
Эта команда создаёт в текущем каталоге новый подкаталог с именем *.git*, содержащий все необходимые файлы репозитория — структуру Git репозитория.

2. Клонировать существующий репозиторий Git из любого места.
Сделать это можно командой:
```
git clone <адрес репозитория>
```

## 5. Запись изменений в репозиторий

Основной инструмент, используемый для определения, какие файлы в каком состоянии находятся — это команда `git status`.

**Отслеживание новых файлов**

Для того чтобы начать отслеживать (добавить под версионный контроль) новый файл, используется команда `git add` *(для быстрого выбора конкретного файла введите первые символы из его названия и нажмите клавишу "Tab")*:
```
$ git add instruction.md
```
Теперь файл проиндексирован и войдет в следующий коммит.

**Коммит изменений**

Теперь, когда ваш файл проиндексирован вы можете зафиксировать свои изменения. Простейший способ зафиксировать изменения — это набрать `git commit -m "comment"`.


**Просмотр индексированных и неиндексированных изменений**


Если результат работы команды `git status` недостаточно информативен для вас — вам хочется знать, что конкретно поменялось, а не только какие файлы были изменены — вы можете использовать команду `git diff`. 

Чтобы увидеть, что же вы изменили, но пока не проиндексировали, наберите `git diff` без аргументов.
Эта команда сравнивает содержимое вашего рабочего каталога с содержимым индекса. Результат показывает ещё не проиндексированные изменения.

## 6. Просмотр истории коммитов

Для просмотра истории коммитов используется команда:
```
git log
```
Данная команда перечисляет коммиты с их хэш-кодами, именем и электронной почтой, датой создания и сообщением коммита.
По умолчанию последие коммиты находятся вверху.

Для выхода из режима просмотра истории используется клавиша **"Q"**

## 7. Перемещение между сохранениями (коммитами)

Чтобы перейти к нужному сохранению (коммиту) можно использовать команду:
```
git checkout <хеш-код>
```
Пример использования команды `git checkout`:
```
git checkout 2f31c9e
```

Такой переход можно использовать только для просмотра!
Продолжить работу над файлом можно только после перхода на верх ветки командой:
```
git checkout master
```
## 8. Добавление файла 

Для того чтобы добавить файл в текст необходимо сначала его поместить в папку с репазиторием, а после просто прописать его путь. Например 
```
 ![Git-logo](Git-Logo.png)
```

![Git-logo](Git-Logo.png)

## 9. Игнорирование файлов

Игнорируемые файлы отслеживаются в специальном файле `.gitignore`, который регистрируется в корневом каталоге репозитория. В Git нет специальной команды для указания игнорируемых файлов: вместо этого необходимо вручную отредактировать файл`.gitignore`, чтобы указать в нем новые файлы, которые должны быть проигнорированы. Файлы `.gitignore` содержат шаблоны, которые сопоставляются с именами файлов в репозитории для определения необходимости игнорировать эти файлы.

## 10.  Работа с ветками 

В Git ветки — это элемент повседневного процесса разработки. По сути ветки в Git представляют собой указатель на снимок изменений. Если нужно добавить новую возможность или исправить ошибку (незначительную или серьезную), вы создаете новую ветку, в которой будут размещаться эти изменения.

Для создания ветки можно пользоваться двумя способами 

**1. Необходимо в терминале написать команду** 
```
git branch <branch_name>
```
 Переключиться на свежесозданную ветку с помощью команды 
 ```
 git checkout <branch_name>
 ```
**2. Команда git checkout -b**

В основе данного способа лежит тот факт, что команда `git checkout` умеет создавать ветки и сразу переключаться на них. Это намного удобнее, чем выполнять два этих действия по отдельности. Поэтому данный способ является более предпочтительным, так как задействует только одну команду `git checkout` *со специальным ключом `-b` *.

После того как мы сделали все необходимые действия в отдельной ветке ее можно "слить" с другой веткой (например master) для этого достаточно перейти с помощью команды ` git checkout master` на ветку "master"  после чего в теменале воспользуемся командой:
```
git merge branch_name
```
И в результате содержимое ветки *`branch_name`*  перенесется в ветку *`master`*, но... (см п.11)


**Удаление веток**

Для проверки имеющихся в репозитории веток можно воспользоваться командой:
```
git branch
```

После "слияния" Те ветки из этого списка, перед которыми нет символа` *`, можно смело удалять командой `git branch -d` наработки из этих веток уже включены в другую ветку, так что ничего не потеряется.
```
$ git branch -d branch_name
```

# 11. Конфликт и как его решить без кулаков :)
 
 Создадим специальную ветку *`conflict`* (см. раздел #10),
 и напишем в ней любой текст... и закомитим его в этой ветке,  после чего перейдем обратно на ветку *`master`* и так же создадим в этой ветке #11  разде... и  и закомитим его в этой ветке (*`master`*). После можно попробовать "слить" эти ветки между собой (см. раздел #10).

Но после выполнения команды `git merge conflict` возникает "Конфликт" который VSCode предлагает нам решить четырмя возможными исходами
* Оставить информация с ветки *`master`* ;
* Оставить информация с ветки *`conflict`* ;
* Принять оба варианта ;
* Сравнить  оба варианта и отредактировть в ручную.

# 12. Подготовка к работе с удаленным репозиторием

**`Удаленный репозиторий`** - это модификации проекта, которые хранятся в интернете или ещё где-то в сети. Их может быть несколько, каждый из которых как правило доступен для вас либо только на чтение, либо на чтение и запись. 

Рассмотрим в качестве удаленного репозитория  сайт [GitHub](https://github.com).

Для того чтобы начать работать нужно пройти регистрацию. После чего сайт предоставляет доступ к работе с удаленными репозиториями.
Для работы с удаленными репозиториями используют базовые команды:

| № | Comand | Translation |
| --- | ---| --- |
| 1 | `git clone` | создание копии удаленного репозитория на локальный ПК |
| 2 | `git push` | отправление обновленных коммитов в удаленный репозиторий |
| 3 | `git pull`| извлечение с удаленного репозитория файлов проекта |
| 4 | `git remote add` | добавление проекта на удаленный репозиторий|

Чтобы приступить к работе над любым проектом на ***`GitHub`***, необходимо сначала перейти к репозиторию данного проекта на сайте.

Например, *репозиторий* [Андрея Булгакова](https://github.com/AndreyBulgakov19/SCV_Git_1804).

Для клонирования удаленного репозитория на Ваш компьтер необходимо выполнить следующие действия:
+ Перейтий на страницу разработчика проекта, в правом верхнем углу выбрать кнопку **`Fork`**

* Написать ***`имя репозитория`*** и нажать кнопку **Creat Fork**.
После чего, страница сайта обновиться, Вы окажетесь на странице своего аккаунта, где будет отображаться репозиторий добавленного проекта.
+ Нажать на кнопку `Code`.
+ Скопировать в буфер ссылку на репозиторий проект
+ Открыть `VS Code`
+ Выполнить комадну:
```
git clone https://github.com/AndreyBulgakov19/SCV_Git_1804
```
Данная команда создаст копию удаленного репозитория.
+ Зайти в рабочую папку командой:
```
cd SCV_Git_1804
```
> Главное не начинат работу в основной ветки проекта, необходимо создать отдельную ветку!!!
+ Просматриваем текущие ветки проекта, создаем новую ветку для работы, переходим в неё и начинаем работу:
```
git branch
git branch pull_requests
git checkout pull_requests
```
## 13. Использование команды Push

Команда `git push` используется для выгрузки содержимого локального репозитория в удаленный репозиторий. Она позволяет передать коммиты из локального репозитория в удаленный. Эта команда симметрична команде `git fetch`: при извлечении с помощью *fetch* коммиты импортируются в локальные ветки, а при публикации с помощью *push* коммиты экспортируются в удаленные ветки. Настроить удаленные ветки можно с помощью команды `git remote`. Команда *push* может перезаписать изменения, поэтому при ее использовании следует соблюдать осторожность.

Чаще всего при работе с `Push`  используются следующие команды:

| № | Comand | Translation |
| --- | ---| --- |
| 1 | `git push` | Отправляет определенную ветку на удаленный сервер, включая все последние коммиты и связанные с ними объекты. |
| 2 | `git push --all` | Отправляет все локальные ветки. |
| 3 | `git push --delete`| Удаление конкретной удаленной ветви. |

 ## 14. Использование команды Fetch и Pull
```
git fetch <имя удаленного репозитория>
```
данная  команда связывается с указанным удалённым проектом и забирает все те данные проекта, которых у вас ещё нет. **Fetch** забирает данные в ваш локальный репозиторий, но не сливает их с какими-либо вашими наработками, и не модифицирует то, над чем вы работаете в данный момент.
Если ветка настроенна на отслеживание удалённой ветки, то можно использовать команду:
```
git pull
```
 В таком случае, данная команда автоматичеси извлекает и затем сливает данные из удалённой ветки в вашу текущую ветку.
 ## 15. Использование команды Remote

 Команда `git remote` позволяет создавать, просматривать и удалять подключения к другим репозиториям. Удаленные подключения скорее похожи на закладки, чем на прямые ссылки на другие репозитории. Они служат удобными именами, с помощью которых можно сослаться на не очень удобный URL-адрес, а не предоставляют доступ к другому репозиторию в режиме реального времени.

 Просмотреть, какие удалённые серверы уже настроены, можно следующей командой:
```
git remote
```
Если вы склонировали ваш репозиторий, у вас должен отобразиться как минимум **`origin`**.

Чтобы добавить новый удалённый репозиторий с определенным именем, необходимо выполнить команду:
```
git remote add name https://github.com/AndreyBulgakov19/SCV_Git_1804
```
где `name` имя-сокращение.
Команда будет выполнена, но система не предоставит никакой обратной связи в окне терминала. 

Для отправления файлов в удаленный репозиторий, необходимо выполнить команду:
```
git push --set-upstream name master
```
В окне терминала отображается количество объектов, отправленных на сервер, и указывается, что ваш локальный репозиторий настроен на отслеживание ветки с именем `master`.
Таким образом, на сайте **GitHub** мы сможем видеть наш репозиторий со всем переданными файлами.

## 16. Осуществляем Pull Request

**`Pull request`** - это запрос к управляющему каким-либо репозиторием (человеку, группе людей или вообще роботу) на применение изменений (из вашего репозитория и/или указанной вами ветки).
Для создания ***`Pull request`*** необходимо:
+ Зайти на [GitHub](https://github.com).
+ Авторизоваться;
+ Найти страницу пользователя, зайти на неё и выбрать нужный проект.
Например, проект [Андрея Булгакова](https://github.com/AndreyBulgakov19/SCV_Git_1804). 
+ сделать **`Fork`** проекта. (см. в главе 17).

После добавления удаленного репозитория к себе на компьютер мы приступаем к его редактированию.
Однако, неоходимо придерживаться следующих основных правил:
>***`Нельзя начинать работать в ветке склонированного проекта, все правки, добавления файлов и папок делаются в отдельносозданной ветке!`***

Для безопасной работы над чужим проектом, создадим отдельную ветку:
```
git branch
git branch Pull_request
git checkout Pull_request
git branch
```
Рассмотрим несколько способов созданию `Pull request`.
 **Использование несвязанных историй:**
    - создаем папку;
    - клонируем удаленный репозиторий;
    - копируем локальный репозиторий в папку, куда был склонирован удаленный репозиторий;
    - ***`разрешаем несвязанные истории репозиториев!!!`***

    Например:
    ```
    git clone https://github.com/sheyko97/test.git
    cd SCV_Git_1804
    git branch
    git branch Pull_request
    git checkout Pull_request
    ```
    Копируем в папку **SVC_Git_1804** свой локальный репозиторий, соглашаемся с внесением изменений.
        
    Далее разрешаем несвязанные истории репозиториев:
    ```
    git pull origin master --allow-unrelated-histories
    ```
   
    Если будут возникать ошибки, тогда воспользуйтесь командой:
    ```
    git merge master --allow-unrelated-histories
    ```
    - Коммитить наши действия и отправляем на сервер:
    ```
    git commit -am "комментарий"
    git push --set-upstream origin Vladimir
    ```
     - Заходим на **[Git Hube](https://github.com/sheyko97/test.git)** в наши удаленный репозиторий, который мы ранее добавляли себе.
    
        Нажимае кнопку Compare & pull pequest, вводим название и комментарий и отправляем автору проекта.